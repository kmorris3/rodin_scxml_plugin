<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<org.eventb.core.contextFile org.eventb.core.comment="This context declares the operator &quot;sm_add_node&quot; for State-machine-extension ADT" org.eventb.core.configuration="org.eventb.core.fwd" org.eventb.core.generated="false" version="3">
    <org.eventb.core.extendsContext name="'" org.eventb.core.target="c00_1-state_machines"/>
    <ac.soton.eventb.emf.core.extension.persistence.serialisedExtension ac.soton.eventb.emf.core.extension.persistence.eClassifier="Classdiagram" ac.soton.eventb.emf.core.extension.persistence.ePackageURI="http://soton.ac.uk/models/eventb/classdiagrams/2015" ac.soton.eventb.emf.core.extension.persistence.extensionId="ac.soton.eventb.classdiagrams._1u7BQMZ2EeWZbckh3-Cs4g" ac.soton.eventb.emf.core.extension.persistence.serialised="&lt;classdiagrams:Classdiagram xmi:version=&quot;2.0&quot; xmlns:xmi=&quot;http://www.omg.org/XMI&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:classdiagrams=&quot;http://soton.ac.uk/models/eventb/classdiagrams/2015&quot; xmlns:context=&quot;http://emf.eventb.org/models/core/context/2014&quot; name=&quot;StateMachineExtension&quot; extensionId=&quot;ac.soton.eventb.classdiagrams._1u7BQMZ2EeWZbckh3-Cs4g&quot;&gt;&#10;  &lt;annotations source=&quot;http:///org/eventb/core/RodinInternalAnnotations&quot;&gt;&#10;    &lt;details key=&quot;name&quot; value=&quot;_1u82cMZ2EeWZbckh3-Cs4g&quot;/&gt;&#10;  &lt;/annotations&gt;&#10;  &lt;classes name=&quot;StateMachineExtensions&quot;&gt;&#10;    &lt;elaborates xsi:type=&quot;context:Constant&quot; href=&quot;platform:/resource/iUML-B/c00_1-state_machines.buc#http://emf.eventb.org/models/core/context/2014::Constant::c00_1-state_machines.StateMachineExtensions&quot;/&gt;&#10;    &lt;incoming href=&quot;platform:/resource/iUML-B/c2-sm_add_node.buc#http://soton.ac.uk/models/eventb/classdiagrams/2015::Association::c2-sm_add_node.StateMachineExtension.sm_add_node&quot;/&gt;&#10;    &lt;refines href=&quot;platform:/resource/iUML-B/c00_1-state_machines.buc#http://soton.ac.uk/models/eventb/classdiagrams/2015::Class::c00_1-state_machines.StateMachineExtension.StateMachineExtensions&quot;/&gt;&#10;  &lt;/classes&gt;&#10;  &lt;classes name=&quot;(StateMachineExtensions × STATE_MACHINE × NODE)&quot; dataKind=&quot;Constant&quot;&gt;&#10;    &lt;outgoing href=&quot;platform:/resource/iUML-B/c2-sm_add_node.buc#http://soton.ac.uk/models/eventb/classdiagrams/2015::Association::c2-sm_add_node.StateMachineExtension.sm_add_node&quot;/&gt;&#10;  &lt;/classes&gt;&#10;  &lt;associations name=&quot;sm_add_node&quot; dataKind=&quot;Constant&quot; functional=&quot;true&quot;&gt;&#10;    &lt;elaborates xsi:type=&quot;context:Constant&quot; href=&quot;platform:/resource/iUML-B/c00_3-sm_add_node.buc#http://emf.eventb.org/models/core/context/2014::Constant::c00_3-sm_add_node.sm_add_node&quot;/&gt;&#10;    &lt;target href=&quot;platform:/resource/iUML-B/c00_3-sm_add_node.buc#http://soton.ac.uk/models/eventb/classdiagrams/2015::Class::c00_3-sm_add_node.StateMachineExtension.StateMachineExtensions&quot;/&gt;&#10;    &lt;source href=&quot;platform:/resource/iUML-B/c00_3-sm_add_node.buc#http://soton.ac.uk/models/eventb/classdiagrams/2015::Class::c00_3-sm_add_node.StateMachineExtension.(StateMachineExtensions × STATE_MACHINE × NODE)&quot;/&gt;&#10;  &lt;/associations&gt;&#10;  &lt;refines href=&quot;platform:/resource/iUML-B/c00_1-state_machines.buc#http://soton.ac.uk/models/eventb/classdiagrams/2015::Classdiagram::c00_1-state_machines.StateMachineExtension&quot;/&gt;&#10;&lt;/classdiagrams:Classdiagram&gt;&#10;" name="_1u82cMZ2EeWZbckh3-Cs4g" org.eventb.core.generated="false"/>
    <org.eventb.core.constant name="_z-xjAMjLEeWjZs7xEk3RnQ" org.eventb.core.comment="Operator &quot;sm_add_node&quot; to add a node to a state-machine of a state-machine extension" org.eventb.core.generated="false" org.eventb.core.identifier="sm_add_node"/>
    <org.eventb.core.axiom name="_eEwGQMjMEeWjZs7xEk3RnQ" org.eventb.core.generated="true" org.eventb.core.label="assocMult_sm_add_node" org.eventb.core.predicate="sm_add_node ∈ (StateMachineExtensions × STATE_MACHINE × NODE) ⇸ StateMachineExtensions" org.eventb.emf.persistence.generator_ID="ac.soton.eventb.classdiagrams._1u7BQMZ2EeWZbckh3-Cs4g"/>
    <org.eventb.core.axiom name="axm1" org.eventb.core.comment="WD for the partial operator:&#10;- The state-machine @sm must be a state-machine of the extension @sme.&#10;- The node @nd is new, i.e., is not already a node of the extension @sme." org.eventb.core.generated="false" org.eventb.core.label="sm_add_node−WD" org.eventb.core.predicate="dom(sm_add_node) = &#10;   {&#10;         sme↦sm↦nd&#10;       ∣&#10;         sme ∈ StateMachineExtensions ∧&#10;         sm ∈ state_machines(sme) ∧&#10;         nd ∉ nodes(sme)&#10;   }"/>
    <org.eventb.core.axiom name="axm2" org.eventb.core.comment="Adding a node to a state-machine does NOT changes the set of state-machines of the extension @sme." org.eventb.core.generated="false" org.eventb.core.label="sm_add_node−state_machines" org.eventb.core.predicate="∀sme,sm,nd ·&#10;  sme↦sm↦nd ∈ dom(sm_add_node)&#10;⇒&#10;  state_machines(sm_add_node(sme↦sm↦nd)) = state_machines(sme)"/>
    <org.eventb.core.axiom name="axm3" org.eventb.core.comment="Adding a node to a state-machine does NOT changes the root state-machine of the extension @sme." org.eventb.core.generated="false" org.eventb.core.label="sm_add_node−root_state_machine" org.eventb.core.predicate="∀sme,sm,nd ·&#10;  sme↦sm↦nd ∈ dom(sm_add_node)&#10;⇒&#10;  root_state_machine(sm_add_node(sme↦sm↦nd)) = root_state_machine(sme)"/>
    <org.eventb.core.axiom name="axm4" org.eventb.core.comment="The new node @nd is added to the set of nodes of the extension @sme." org.eventb.core.generated="false" org.eventb.core.label="sm_add_node−nodes" org.eventb.core.predicate="∀sme,sm,nd ·&#10;  sme↦sm↦nd ∈ dom(sm_add_node)&#10;⇒&#10;  nodes(sm_add_node(sme↦sm↦nd)) = nodes(sme) ∪ {nd}"/>
    <org.eventb.core.axiom name="axm5" org.eventb.core.comment="The owner of the new node @nd is set to be @sm." org.eventb.core.generated="false" org.eventb.core.label="sm_add_node−owners" org.eventb.core.predicate="∀sme,sm,nd ·&#10;  sme↦sm↦nd ∈ dom(sm_add_node)&#10;⇒&#10;  owners(sm_add_node(sme↦sm↦nd)) = owners(sme) ∪ {nd ↦ sm}"/>
    <org.eventb.core.axiom name="axm6" org.eventb.core.comment="Adding a node to a state-machine does NOT changes the containers of the extension @sme." org.eventb.core.generated="false" org.eventb.core.label="sm_add_node−containers" org.eventb.core.predicate="∀sme,sm,nd ·&#10;  sme↦sm↦nd ∈ dom(sm_add_node)&#10;⇒&#10;  containers(sm_add_node(sme↦sm↦nd)) = containers(sme)"/>
</org.eventb.core.contextFile>
