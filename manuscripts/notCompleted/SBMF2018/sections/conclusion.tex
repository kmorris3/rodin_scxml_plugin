% !TEX root = ../SCXMLREF.tex

\section{Conclusion}
\label{sec:conclusion}
We have shown how a slightly extended and annotated \statechart, with a typical 'run to completion' semantic, can be translated into the \EventB notation for verification of synchronisation properties using the \EventB theorem proving tools.
Furthermore, borrowing from the refinement concepts of \EventB, we introduce a notion of refinement to \statecharts and demonstrate how the proof of a property at an abstract level, helps formulate constraints that must apply (and will be verified to do so) in further refinements.

\SonAdd{%
  Refinement of UML \mbox{\statecharts} has been  studied previously in~\mbox{\cite{DBLP:journals/corr/HansenSL15,1347517,szasz10:_behav_refin_uml_statec}}. 
  In~\mbox{\cite{DBLP:journals/corr/HansenSL15}}, the authors propose  a ``purely additive'' refinement process where no elements (e.g. events, guards, etc.) of the original model can be removed and the ``external'' behaviour of the model is therefore preserved.  
  This refinement process is similar to \mbox{\EventB} ``superposition'' refinement which we use in our translation.  
  In~\mbox{\cite{1347517}}, the authors consider a coalgebraic description of UML \mbox{\statecharts}, and define an equivalence relationship and a behavioural refinement notion between \mbox{\statecharts}.  In~\mbox{\cite{szasz10:_behav_refin_uml_statec}}, the authors define a structured operational semantics of \mbox{\statecharts} based on label transition systems.  
  Behaviour refinements are then constructed based on this semantics. 
  The authors prove that a ``safe-extension'' of UML \mbox{\statecharts} is a correct behavioural refinement.  
  In our paper, we focus on the run-to-completion semantics of \mbox{\statecharts}, whereas none of the above work deals with it explicitly. 
  Furthermore, the refinement process supported in~\mbox{\cite{DBLP:journals/corr/HansenSL15,1347517}} is based on refinement patterns (called refinement rules/laws), whereas we rely on the more general theory of refinement, given by the proof obligations of \mbox{\EventB}, for proving the refinement relationship between \mbox\statecharts.
}

In future work we will continue to experiment with different examples to explore the alternative translation strategies in more detail. 
In particular, further work on refinement of the micro/macro-step and whether correspondence of macro-steps can be relaxed; whether more complex refinement techniques could be supported (for example, using ranges in refinement annotations) would be useful; supporting/comparing alternative variations of semantics (by generating a different basis/scheduler for the translation).

For our interpretation of \statecharts in \mbox{\iUMLB}, we used the `run-to-completion' semantics of \statecharts.  In particular, we have carefully designed our translated model such that the semantics is captured as a generic abstract model, which is subsequently refined by the translation of the \SCXML model.  An advantage of this approach is that we can easily adapt the basis model with other alternative semantics~\mbox{\cite{Eshuis_2009}} without changing the translation of the \SCXML model. 

While \statecharts interpreted in \iUMLB provide a way to incorporate refinement in an intuitive way, reversing this to \emph{discover} refinements holds promise. 
Checking a particular \statechart model for hierarchical structures that happen to follow the refinement proof obligations suggests an automatic way to accomplish abstract interpretation on an existing model.  
Such discovered abstraction/refinement relationships might improve the scalability of more complex \statechart models ``for free''.
%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "../SCXMLREF.tex"
%%% End: 
