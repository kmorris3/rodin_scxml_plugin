%%
%% This is file `hyperrefSoton.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% hyperrefSoton.dtx  (with options: `hyperrefSoton')
%% 
%% This is a generated file.
%% 
%% Copyright (C) 2018 by Thai Son Hoang
%% <T dot S dot Hoang at ecs dot soton dot ac dot uk>
%% 
%% This file may be distributed and/or modified under the conditions of
%% the LaTeX Project Public License, either version 1.3c of this license
%% or (at your option) any later version. The latest version of this
%% license is in:
%% 
%%    http://www.latex-project.org/lppl.txt
%% 
%% and version 1.3c or later is part of all distributions of LaTeX
%% version 2008/05/04 or later.
%% 
%% This work has the LPPL maintenance status "author-maintained".
%% 
%% The Current Maintainer of this work is T. S. Hoang
%% 
\NeedsTeXFormat{LaTeX2e}\relax
\ProvidesPackage{hyperrefSoton}
    [2018/01/11 v0.3 Package for hyper-references using University of Southampton branding colours]

%%%%% BEGIN Package loading %%%%%
% ============================= %
\RequirePackage{colourSoton}

\RequirePackage{hyperref}

\RequirePackage{xpatch}
% =========================== %
%%%%% END Package loading %%%%%


%%%%% BEGIN Commands for Different Colours %%%%%
% ============================================ %
\colorlet{soton@CiteColour}{sotonDarkCyan}
\colorlet{soton@URLColour}{sotonDeepSkyBlue}
\colorlet{soton@LinkColour}{sotonRed}

% ========================================== %
%%%%% END Commands for Different Colours %%%%%

%%%%% BEGIN Hyperref Settings %%%%%
% =============================== %
\hypersetup{
  colorlinks=true,
  linkcolor = soton@LinkColour,
  urlcolor=soton@URLColour,
  citecolor=soton@CiteColour
}

% ============================= %
%%%%% END Hyperref Settings %%%%%

%%%%% BEGIN Bibliography items %%%%%
% ================================ %
\xpatchcmd{\@lbibitem}
 {\item[\hfil}
 {\item[\hfil\color{soton@CiteColour}}
 {}{}
\let\oldbibitem=\bibitem
\renewcommand{\bibitem}[2][]{\label{#2}\oldbibitem[#1]{#2}}

\let\oldcite=\cite
\renewcommand\cite[1]{%
  {% This brackets are important to localise the hypersetup
    \hypersetup{linkcolor=soton@CiteColour}\hyperlink{#1}{\oldcite{#1}}%
  }%
}%

\ifcsname{citep}\endcsname% Check if \citep is defined
  \let\oldcitep=\citep%
  \renewcommand\citep[1]{%
    {% This brackets are important to localise the hypersetup
      \hypersetup{linkcolor=soton@CiteColour}\hyperlink{#1}{\oldcitep{#1}}%
    }%
  }%
\else% Ignore if \citep is not defined
\fi%

\ifcsname{citeauthor}\endcsname% Check if \citeauthore is defined
  \let\oldciteauthor=\citeauthor%
  \renewcommand\citeauthor[1]{%
    {% This brackets are important to localise the hypersetup
      \hypersetup{linkcolor=soton@CiteColour}\hyperlink{#1}{\oldciteauthor{#1}}%
    }%
  }%
\else% Ignore if \citeauthor is not defined
\fi%

% ============================== %
%%%%% END Bibliography items %%%%%
\endinput
%%
%% End of file `hyperrefSoton.sty'.
